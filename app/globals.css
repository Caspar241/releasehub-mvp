@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  html {
    @apply antialiased;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-bg-primary text-text-primary font-sans relative overflow-x-hidden;
    /* Grid background pattern */
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.015) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.015) 1px, transparent 1px);
    background-size: 60px 60px;
    background-position: center center;
    /* Vignette effect */
    box-shadow: inset 0 0 300px rgba(0, 0, 0, 0.8);
  }

  /* Smooth scrolling with offset for fixed nav */
  html {
    scroll-padding-top: 100px;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Focus ring */
  *:focus-visible {
    @apply outline-none ring-2 ring-accent ring-offset-2 ring-offset-bg-primary;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold text-text-primary;
  }

  h1 { @apply text-hero-xl; }
  h2 { @apply text-4xl md:text-5xl; }
  h3 { @apply text-3xl; }
  h4 { @apply text-2xl; }
  h5 { @apply text-xl; }
  h6 { @apply text-lg; }

  p {
    @apply text-body text-text-secondary;
  }

  /* Links */
  a {
    @apply transition-colors duration-200;
  }
}

@layer components {
  /* ===== CONTAINER ===== */
  .container-custom {
    @apply max-w-7xl mx-auto px-6 md:px-8 lg:px-12;
  }

  .container-wide {
    @apply max-w-7xl mx-auto px-6 md:px-8 lg:px-16;
  }

  .container-narrow {
    @apply max-w-4xl mx-auto px-6 md:px-8;
  }

  /* ===== SECTIONS ===== */
  .section-spacing {
    @apply py-20 md:py-28 lg:py-36;
  }

  .section-spacing-sm {
    @apply py-12 md:py-16 lg:py-20;
  }

  /* ===== GLASSMORPHISM ===== */
  .glass {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.08) 0%,
      rgba(255, 255, 255, 0.03) 100%
    );
    @apply backdrop-blur-glass border border-border shadow-e2;
  }

  .glass-card {
    background: linear-gradient(
      135deg,
      rgba(20, 24, 33, 0.95) 0%,
      rgba(15, 17, 21, 0.9) 100%
    );
    @apply backdrop-blur-glass-lg border border-border shadow-e3;
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.08),
      0 10px 30px rgba(0, 0, 0, 0.65),
      0 4px 8px rgba(0, 0, 0, 0.45);
  }

  .glass-strong {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.12) 0%,
      rgba(255, 255, 255, 0.06) 100%
    );
    @apply backdrop-blur-glass-lg border border-border-strong shadow-e3;
  }

  /* ===== GLOW EFFECTS ===== */
  .glow {
    @apply shadow-glow;
  }

  .glow-strong {
    @apply shadow-glow-strong;
  }

  .glow-hover {
    @apply transition-shadow duration-300;
  }

  .glow-hover:hover {
    @apply shadow-glow;
  }

  .glow-hover-strong:hover {
    @apply shadow-glow-strong;
  }

  /* ===== GRADIENT ORBS (Background Accents) ===== */
  .gradient-orb-cyan {
    background: radial-gradient(
      circle at center,
      rgba(79, 209, 255, 0.15) 0%,
      rgba(79, 209, 255, 0.05) 40%,
      transparent 70%
    );
    filter: blur(60px);
    pointer-events: none;
  }

  .gradient-orb-accent {
    background: radial-gradient(
      circle at center,
      rgba(124, 212, 255, 0.12) 0%,
      rgba(79, 209, 255, 0.04) 50%,
      transparent 75%
    );
    filter: blur(80px);
    pointer-events: none;
  }

  .gradient-orb-purple {
    background: radial-gradient(
      circle at center,
      rgba(147, 51, 234, 0.1) 0%,
      rgba(147, 51, 234, 0.03) 50%,
      transparent 75%
    );
    filter: blur(70px);
    pointer-events: none;
  }

  .gradient-orb-blue {
    background: radial-gradient(
      circle at center,
      rgba(59, 130, 246, 0.12) 0%,
      rgba(59, 130, 246, 0.04) 50%,
      transparent 75%
    );
    filter: blur(80px);
    pointer-events: none;
  }

  .gradient-orb-pink {
    background: radial-gradient(
      circle at center,
      rgba(236, 72, 153, 0.08) 0%,
      rgba(236, 72, 153, 0.02) 50%,
      transparent 75%
    );
    filter: blur(90px);
    pointer-events: none;
  }

  /* ===== BUTTONS ===== */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 rounded-full font-medium transition-all duration-300 ease-apple;
  }

  .btn-primary {
    @apply btn bg-accent text-text-inverse hover:bg-accent-hover hover:shadow-glow active:scale-95;
  }

  .btn-secondary {
    @apply btn glass-card text-text-primary hover:border-border-strong hover:shadow-e3 active:scale-95;
  }

  .btn-ghost {
    @apply btn border border-border text-text-primary hover:border-border-strong hover:bg-surface-raised active:scale-95;
  }

  .btn-lg {
    @apply px-8 py-4 text-lg;
  }

  .btn-sm {
    @apply px-4 py-2 text-sm;
  }

  /* ===== BADGES ===== */
  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium tracking-wide uppercase;
  }

  .badge-accent {
    @apply badge bg-accent/10 text-accent border border-accent/30;
  }

  .badge-glass {
    @apply badge glass text-text-secondary;
  }

  /* ===== INPUTS ===== */
  .input {
    @apply w-full px-4 py-3 bg-surface-raised border border-border rounded-xl text-text-primary placeholder:text-text-muted;
    @apply focus:border-accent focus:ring-2 focus:ring-accent/20 transition-all duration-200;
  }

  .input-lg {
    @apply px-5 py-4 text-lg;
  }

  /* ===== CARDS ===== */
  .card {
    @apply glass-card rounded-2xl p-6 md:p-8;
  }

  .card-interactive {
    @apply card transition-all duration-300 hover:border-accent/30 hover:shadow-glow cursor-pointer;
  }

  /* ===== BORDER GLOW (Animated) ===== */
  .border-glow {
    @apply relative;
  }

  .border-glow::before {
    content: '';
    @apply absolute inset-0 rounded-[inherit] p-[1px];
    background: linear-gradient(135deg, rgba(79, 209, 255, 0.5), rgba(79, 209, 255, 0.1));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  .border-glow:hover::before {
    opacity: 1;
  }

  /* ===== SECTION HEADER ===== */
  .section-header {
    @apply text-center mb-12 md:mb-16;
  }

  .section-eyebrow {
    @apply badge-accent mb-4 mx-auto;
  }

  .section-title {
    @apply text-4xl md:text-5xl font-bold mb-4;
  }

  .section-description {
    @apply text-lead text-text-secondary max-w-2xl mx-auto;
  }

  /* ===== CYAN ACCENT BAR ===== */
  .accent-bar {
    @apply h-1 bg-gradient-to-r from-transparent via-accent to-transparent;
  }

  /* ===== SCROLL INDICATOR ===== */
  .scroll-indicator {
    @apply flex flex-col items-center gap-2 text-text-muted animate-bounce;
  }

  /* ===== FEATURE GRID ===== */
  .feature-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8;
  }

  /* ===== PROSE (Rich Text) ===== */
  .prose {
    @apply text-text-secondary leading-relaxed;
  }

  .prose h2 {
    @apply text-text-primary mt-8 mb-4;
  }

  .prose h3 {
    @apply text-text-primary mt-6 mb-3;
  }

  .prose p {
    @apply mb-4;
  }

  .prose a {
    @apply text-accent hover:text-accent-hover underline;
  }

  .prose ul, .prose ol {
    @apply ml-6 mb-4 space-y-2;
  }

  .prose li {
    @apply list-disc;
  }

  .prose code {
    @apply bg-surface-raised px-2 py-1 rounded text-sm;
  }
}

@layer utilities {
  /* ===== TEXT UTILITIES ===== */

  /* Headline Variants */
  .heading-default {
    @apply text-white;
  }

  .heading-muted {
    @apply text-text-graphite;
  }

  /* Gradient Text Highlights */
  .text-gradient {
    @apply bg-gradient-to-r from-accent to-accent-hover bg-clip-text text-transparent;
  }

  .text-gradient-blue {
    background: linear-gradient(
      90deg,
      #37C8ED 0%,
      #4FD1FF 50%,
      #1290FF 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-cyan {
    background: linear-gradient(
      90deg,
      #37C8ED 0%,
      #4FD1FF 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-balance {
    text-wrap: balance;
  }

  .break-words {
    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
  }

  /* ===== ANIMATIONS ===== */
  .animate-in {
    animation: fadeInUp 0.6s ease-out;
  }

  .delay-100 {
    animation-delay: 100ms;
  }

  .delay-200 {
    animation-delay: 200ms;
  }

  .delay-300 {
    animation-delay: 300ms;
  }

  .delay-400 {
    animation-delay: 400ms;
  }

  /* ===== ASPECT RATIOS ===== */
  .aspect-mockup {
    aspect-ratio: 16 / 10;
  }

  .aspect-phone {
    aspect-ratio: 9 / 19.5;
  }

  .aspect-card {
    aspect-ratio: 4 / 3;
  }

  /* ===== BLUR EFFECTS ===== */
  .blur-lg {
    filter: blur(40px);
  }

  .blur-xl {
    filter: blur(60px);
  }

  /* ===== TRANSFORM GPU ===== */
  .gpu {
    transform: translateZ(0);
    will-change: transform;
  }

  /* ===== SAFE AREA (Mobile) ===== */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
